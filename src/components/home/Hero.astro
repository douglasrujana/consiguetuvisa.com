---
// src/components/home/Hero.astro
// Carga Hero desde Sanity con fallback

import Button from '../ui/Button.astro';
import Icon from '../ui/Icon.astro';
import { getHero } from '../../lib/sanity/hero.service';

const hero = await getHero();
---

<section class="gradient-hero py-16 md:py-24 lg:py-32">
  <div class="container-main">
    <div class="max-w-4xl mx-auto text-center">
      <!-- Badge -->
      {hero.badge && (
        <div class="inline-flex items-center gap-2 bg-brand-secondary/10 text-brand-secondary px-4 py-2 rounded-full text-sm font-medium mb-6">
          <Icon name="shield" size={16} />
          <span>{hero.badge}</span>
        </div>
      )}

      <!-- Headline -->
      <h1 class="heading-hero mb-6">
        {hero.title}
        {hero.titleHighlight && (
          <span class="text-brand-secondary block">{hero.titleHighlight}</span>
        )}
      </h1>

      <!-- Subheadline -->
      {hero.subtitle && (
        <p class="text-xl md:text-2xl text-text-secondary mb-4 max-w-2xl mx-auto">
          {hero.subtitle}
        </p>
      )}

      <!-- Destinations -->
      {hero.destinations && (
        <p class="text-text-muted mb-8">
          {hero.destinations}
        </p>
      )}

      <!-- CTAs -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button href={hero.ctaPrimaryUrl || '#contacto'} size="lg">
          {hero.ctaPrimaryText || 'Evaluación Gratuita'}
          <Icon name="arrow" size={20} />
        </Button>
        <Button href={hero.ctaSecondaryUrl || 'https://wa.me/593999999999'} variant="whatsapp" size="lg" target="_blank">
          <Icon name="whatsapp" size={20} />
          {hero.ctaSecondaryText || 'Escríbenos Ahora'}
        </Button>
      </div>

      <!-- Trust indicators -->
      {hero.trustItems && hero.trustItems.length > 0 && (
        <div class="flex flex-wrap justify-center gap-8 mt-12 text-text-secondary">
          {hero.trustItems.map((item) => (
            <div class="flex items-center gap-2">
              <Icon name="check" size={20} class="text-success" />
              <span>{item}</span>
            </div>
          ))}
        </div>
      )}
    </div>
  </div>
</section>
