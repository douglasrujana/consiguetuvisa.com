---
// src/components/home/Trust.astro - Estilo Jony Ive
import Section from '../ui/Section.astro';
import Icon from '../ui/Icon.astro';
import AnimatedCounter from '../ui/AnimatedCounter.svelte';
import { getTrust, type TrustData } from '../../lib/sanity/trust.service';

interface Props { data?: TrustData; }
const { data: propData } = Astro.props;
const data = propData ?? await getTrust();

const features = [
  { text: 'Equipo certificado en trámites migratorios', icon: 'badge-check' },
  { text: 'Atención personalizada para cada caso', icon: 'user-check' },
  { text: 'Seguimiento continuo de tu proceso', icon: 'activity' },
  { text: 'Garantía de confidencialidad', icon: 'shield' },
];

const badges = [
  { label: 'Datos Protegidos', icon: 'lock' },
  { label: 'Pago Seguro', icon: 'credit-card' },
  { label: 'Soporte 24/7', icon: 'headphones' },
];
---

<Section background="white">
  <div class="max-w-6xl mx-auto">
    <div class="grid lg:grid-cols-2 gap-16 items-center">
      <!-- Content -->
      <div class="animate-on-scroll slide-left">
        <p class="text-xs font-medium text-text-muted tracking-[0.2em] uppercase mb-4">
          ¿Por qué confiar en nosotros?
        </p>
        <h2 class="text-3xl md:text-4xl font-semibold text-text-primary tracking-tight mb-6">
          {data.title}
        </h2>
        <p class="text-text-secondary font-light leading-relaxed mb-10">
          {data.subtitle || 'Somos un equipo de profesionales especializados en trámites de visa con años de experiencia ayudando a ecuatorianos a cumplir su sueño de viajar.'}
        </p>

        <!-- Features - Lista minimalista -->
        <ul class="space-y-5 mb-10">
          {features.map((feature, index) => (
            <li class={`flex items-center gap-4 animate-on-scroll fade-up delay-${index + 1}`}>
              <div class="w-10 h-10 rounded-2xl bg-success/10 flex items-center justify-center flex-shrink-0">
                <Icon name="check" size={18} class="text-success" />
              </div>
              <span class="text-text-secondary font-light">{feature.text}</span>
            </li>
          ))}
        </ul>

        <!-- Badges - Pills elegantes -->
        <div class="flex flex-wrap gap-3">
          {badges.map((badge, index) => (
            <div class={`flex items-center gap-2 bg-slate-50 px-5 py-2.5 rounded-full animate-on-scroll scale-in delay-${index + 1}`}>
              <Icon name={badge.icon} size={16} class="text-brand-primary" />
              <span class="text-sm font-medium text-text-secondary">{badge.label}</span>
            </div>
          ))}
        </div>
      </div>

      <!-- Stats - Cards premium -->
      <div class="grid grid-cols-2 gap-6">
        {data.items.map((stat, index) => (
          <div class={`group bg-white rounded-3xl p-8 text-center transition-all duration-500 hover:shadow-xl hover:shadow-slate-200/50 animate-on-scroll scale-in delay-${index + 1} border border-slate-100`}>
            <p class="text-5xl md:text-6xl font-light text-brand-secondary mb-3 tabular-nums">
              <AnimatedCounter client:visible value={stat.value} duration={2000} />
            </p>
            <p class="text-text-secondary text-sm font-light">{stat.label}</p>
          </div>
        ))}
      </div>
    </div>

    <!-- Línea decorativa -->
    <div class="mt-20 flex justify-center">
      <div class="w-24 h-px bg-gradient-to-r from-transparent via-slate-200 to-transparent"></div>
    </div>
  </div>
</Section>
